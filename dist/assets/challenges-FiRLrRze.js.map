{"version":3,"file":"challenges-FiRLrRze.js","sources":["../../src/js/displayAllChallenges.js","../../src/js/filteringBox.js"],"sourcesContent":["import { fetchAllChallenges } from './apiService.js';\r\nimport { renderChallenges } from './utilities/renderChallenges.js';\r\n\r\nconst challengesList = document.querySelector('.challenges__list');\r\n\r\n// Shared array to store challenges\r\nlet challengesArray = [];\r\n\r\nexport const displayAllChallenges = async () => {\r\n  // Fetch challenges from the API\r\n  const { success, data: challenges, error } = await fetchAllChallenges();\r\n\r\n  if (!success) {\r\n    console.error('Failed to fetch challenges:', error);\r\n    challengesList.innerHTML = `<li>Error loading challenges. Please try again later.</li>`;\r\n    return;\r\n  }\r\n  challengesArray = challenges;\r\n\r\n  // Clear existing content\r\n  challengesList.innerHTML = '';\r\n  renderChallenges(challenges, challengesList);\r\n};\r\n\r\n// const handleBookButtonClick = (challengeId) => {\r\n//     console.log(`display challenge ID: ${challengeId}`);\r\n// };\r\nexport const getChallengesArray = () => challengesArray;\r\n\r\ndisplayAllChallenges();\r\n","import { getChallengesArray } from \"./displayAllChallenges.js\";\r\nimport { renderChallenges } from './utilities/renderChallenges';\r\nimport '../styles/layouts/filter.scss';\r\n\r\nconst filterBtn = document.querySelector(\".filter__button\");\r\nfilterBtn.addEventListener(\"click\", openFilterModal);\r\n\r\n// Debounce delay for smoother operation\r\nlet searchDebounceTimer;\r\nconst searchDebounceDelay = 400;\r\nlet searchField;\r\n\r\n// Variable for toggletracing\r\nlet activeTags = [];\r\n// Array for the dynamic tags\r\nlet dynamicTagButtons = [];\r\nlet activeButtons = [];\r\n\r\n// Array for rating stars\r\nlet ratingStars = {\r\n    lowestStars: [],\r\n    lowestRating: 0,\r\n\r\n    highestStars: [],\r\n    highestRating: 5,\r\n}\r\n\r\nfunction openFilterModal() {\r\n    const filterSection = document.querySelector(\".filter\");\r\n    filterBtn.classList.add(\"filter__hidden\");\r\n\r\n    // filterBox\r\n    const filterBox = document.createElement(\"box\");\r\n    filterSection.appendChild(filterBox);\r\n    filterBox.classList.add(\"filter__box\");\r\n\r\n    // topDiv\r\n    const topDiv = document.createElement(\"div\");\r\n    filterBox.appendChild(topDiv);\r\n    topDiv.classList.add(\"filter__box__topDiv\");\r\n    \r\n    // topDiv title\r\n    const title = document.createElement(\"h2\");\r\n    title.innerHTML = \"Filter challenges\";\r\n    topDiv.appendChild(title);\r\n    title.classList.add(\"filter__box__topDiv__title\");\r\n\r\n    // Close button\r\n    const closeFilterButton = document.createElement(\"button\");\r\n    topDiv.appendChild(closeFilterButton);\r\n    closeFilterButton.classList.add(\"filter__box__topDiv__closeFilterBtn\");\r\n    closeFilterButton.innerHTML = \"X\";\r\n    closeFilterButton.addEventListener(\"click\", closeFilterModal);\r\n\r\n    // Center div\r\n    const centerDiv = document.createElement(\"div\");\r\n    filterBox.appendChild(centerDiv);\r\n    centerDiv.classList.add(\"filter__box__centerDiv\");\r\n\r\n    // Checkbox main div\r\n    const checkDiv = document.createElement(\"div\");\r\n    centerDiv.appendChild(checkDiv);\r\n    checkDiv.classList.add(\"filter__box__centerDiv__checkDiv\");\r\n\r\n    // Title checkboxes\r\n    const checkBoxTitle = document.createElement(\"h4\");\r\n    checkBoxTitle.textContent = \"By type\";\r\n    checkDiv.appendChild(checkBoxTitle);\r\n    checkBoxTitle.classList.add(\"filter__box__centerDiv__checkDiv__title\");\r\n\r\n    // Checkboxes side divs\r\n    const checkDivTop = document.createElement(\"div\");\r\n    checkDiv.appendChild(checkDivTop);\r\n    checkDivTop.classList.add(\"filter__box__centerDiv__checkDiv__divTop\");\r\n\r\n    const checkDivBottom = document.createElement(\"div\");\r\n    checkDiv.appendChild(checkDivBottom);\r\n    checkDivBottom.classList.add(\"filter__box__centerDiv__checkDiv__divBottom\");\r\n\r\n    // Checkboxes\r\n    const checkBox1 = document.createElement(\"input\");\r\n    checkBox1.type = (\"checkbox\");\r\n    checkBox1.id = \"DOM__checkBox1\";\r\n    checkBox1.checked = true;\r\n    checkDivTop.appendChild(checkBox1);\r\n    checkBox1.classList.add(\"filter__box__centerDiv__checkDiv__checkBox\");\r\n    checkBox1.addEventListener(\"change\", () => executeSearch(searchField.value));\r\n\r\n    const checkBoxLabel1 = document.createElement(\"label\");\r\n    checkBoxLabel1.htmlFor = \"DOM__checkBox1\";\r\n    checkBoxLabel1.appendChild(document.createTextNode(\"Include online challenges\"));\r\n    checkDivTop.appendChild(checkBoxLabel1);\r\n     \r\n    const checkBox2 = document.createElement(\"input\");\r\n    checkBox2.type = (\"checkbox\");\r\n    checkBox2.id = (\"DOM__checkBox2\")\r\n    checkBox2.checked = true;\r\n    checkDivBottom.appendChild(checkBox2);\r\n    checkBox2.classList.add(\"filter__box__centerDiv__checkDiv__checkBox\");\r\n    checkBox2.addEventListener(\"change\", () => executeSearch(searchField.value));\r\n\r\n    const checkBoxLabel2 = document.createElement(\"label\");\r\n    checkBoxLabel2.htmlFor = \"DOM__checkBox2\";\r\n    checkBoxLabel2.appendChild(document.createTextNode(\"Include on-site challenges\"));\r\n    checkDivBottom.appendChild(checkBoxLabel2);\r\n\r\n    // Star rating\r\n    createStarRating();\r\n\r\n    // Div-structure for dynamic tags\r\n    const dynamicDivMain = document.createElement(\"div\");\r\n    centerDiv.appendChild(dynamicDivMain);\r\n    dynamicDivMain.classList.add(\"filter__box__centerDiv__dynamicDivMain\")\r\n\r\n    const dynamicDivTitle = document.createElement(\"div\");\r\n    dynamicDivMain.appendChild(dynamicDivTitle);\r\n    dynamicDivTitle.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicDivTitle\")\r\n\r\n    const dynamicDivTagContainer = document.createElement(\"div\");\r\n    dynamicDivMain.appendChild(dynamicDivTagContainer);\r\n    dynamicDivTagContainer.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicDivTagContainer\");\r\n\r\n    // Dynamic tags title\r\n    const dynamicTagTitle = document.createElement(\"h4\");\r\n    dynamicTagTitle.textContent = \"By tags\";\r\n    dynamicDivTitle.appendChild(dynamicTagTitle);\r\n    dynamicTagTitle.classList.add(\"filter__box__centerDiv__dynamicDivMain__title\");\r\n\r\n    // Populate dynamic tags\r\n    const challengesArray = getChallengesArray();\r\n    updateDynamicTags(challengesArray);\r\n\r\n    // Search field divs\r\n    const searchDivMain = document.createElement(\"div\");\r\n    filterBox.appendChild(searchDivMain);\r\n    searchDivMain.classList.add(\"filter__box__searchDivMain\");\r\n\r\n    // Search field\r\n    const searchFieldTitle = document.createElement(\"h4\");\r\n    searchFieldTitle.textContent = \"Or type to search for keywords\";\r\n    searchDivMain.appendChild(searchFieldTitle);\r\n    searchFieldTitle.classList.add(\"filter__box__searchDivMain__title\");\r\n\r\n    const searchField = document.createElement(\"input\");\r\n    searchField.type = \"search\";\r\n    searchField.id = \"searchField-input\";\r\n    searchField.placeholder = \"Start typing to filter\";\r\n    searchDivMain.appendChild(searchField);\r\n    searchField.classList.add(\"filter__box__searchDivMain__searchfield\");\r\n    searchField.addEventListener(\"input\", debounceSearch);\r\n\r\n}\r\n\r\n// Display challenges by type online/onsite present in URL from redirection\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const challengeType = urlParams.get('type');\r\n    \r\n    setTimeout(() => {\r\n        if (challengeType) {\r\n        filterChallengesByType(challengeType);\r\n        }\r\n    }, 400);\r\n});\r\n\r\nfunction filterByTag(tag) {\r\n    const challengesArray = getChallengesArray();\r\n    const filteredResults = challengesArray.filter( challenge =>\r\n        challenge.labels.some(label =>\r\n            label.toLowerCase() === tag.toLowerCase())\r\n        );   \r\n    displaySearchResults(filteredResults);\r\n}\r\n\r\nfunction updateTagButtons(tag) {\r\n    dynamicTagButtons.forEach(button => {\r\n        const isActive = activeTags.includes(button.textContent.toLowerCase());\r\n        button.classList.toggle('active-tag', isActive);\r\n    });\r\n}\r\n\r\nfunction handleActiveButton(button, state) {\r\n    let foundTag = false;\r\n\r\n    activeButtons.forEach(btnName => {\r\n        if (btnName.toLowerCase() == button.textContent.toLowerCase()) {\r\n            foundTag = true;\r\n        }\r\n    })\r\n\r\n    if (foundTag && state) {\r\n        if (activeButtons.includes(button.textContent)) {\r\n            activeButtons = activeButtons.filter(val => val !== button.textContent)\r\n        }\r\n    } else {\r\n        if (!foundTag) {\r\n            activeButtons.push(button.textContent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction createStarRating() {\r\n    const filterBox = document.querySelector(\".filter__box__centerDiv\");\r\n\r\n    // Rating div\r\n    const ratingDiv = document.createElement(\"div\");\r\n    ratingDiv.classList.add(\"filter__box__centerDiv__ratingDiv\");\r\n    filterBox.appendChild(ratingDiv);\r\n\r\n    // Rating title\r\n    const ratingTitle = document.createElement(\"h4\");\r\n    ratingTitle.textContent = \"By rating\";\r\n    ratingDiv.appendChild(ratingTitle);\r\n    ratingTitle.classList.add(\"filter__box__centerDiv__ratingDiv__title\");\r\n   \r\n    // Star div\r\n    const starDiv = document.createElement(\"div\");\r\n    starDiv.classList.add(\"filter__box__centerDiv__ratingDiv__starDiv\");\r\n    ratingDiv.appendChild(starDiv);\r\n\r\n    // Lowest rating stars\r\n    for (let index = 1; index <= 5; index++) {\r\n        const star = new Image()\r\n        star.src = \"assets/svg/star.svg\";\r\n        star.className = \"filter__box__centerDiv__ratingDiv__star\";\r\n        starDiv.appendChild(star)\r\n        ratingStars[\"lowestStars\"].push(star);\r\n        star.id = \"lowest_\" + index\r\n\r\n        starEvents(star, \"lowestRating\", index);\r\n    }\r\n\r\n    // Text between stars\r\n    const textBetween = document.createElement(\"p\");\r\n    textBetween.textContent = \"to\";\r\n    textBetween.classList.add(\"filter__box__centerDiv__ratingDiv__starDiv__text\");\r\n    starDiv.appendChild(textBetween);\r\n\r\n    // Highest rating stars\r\n    for (let index = 1; index <= 5; index++) {\r\n        const star = new Image()\r\n        star.src = \"assets/svg/star-filled.svg\";\r\n        star.className = \"filter__box__centerDiv__ratingDiv__star\"\r\n        starDiv.appendChild(star)\r\n        ratingStars[\"highestStars\"].push(star);\r\n        star.id = \"highest_\" + index\r\n\r\n        starEvents(star, \"highestRating\", index);\r\n    }\r\n}\r\n\r\nfunction starEvents(star, state, index) {\r\n    star.addEventListener(\"click\", () => {\r\n        let notValid = false; \r\n        let currentCorrectStateName = state.includes(\"lowest\") ? \"lowestRating\" : \"highestRating\";\r\n        \r\n        if (currentCorrectStateName === \"lowestRating\") {\r\n            if (index > ratingStars[\"highestRating\"]) {\r\n                notValid = true\r\n            }\r\n        } else {\r\n            if (index < ratingStars[\"lowestRating\"]) {\r\n                notValid = true\r\n            }\r\n        }\r\n\r\n        if (!notValid) {\r\n            ratingStars[state] = index;\r\n            refreshStars(star);\r\n            executeSearch(searchField ? searchField.value : \"\");\r\n        }\r\n    })\r\n\r\n    star.addEventListener(\"mouseover\", () => {\r\n        refreshStars(star, index)\r\n    })\r\n\r\n    star.addEventListener(\"mouseout\", () => {\r\n        refreshStars(star)\r\n    })\r\n}\r\n\r\nfunction refreshStars(sendingStar, force) {\r\n    let ratingState = sendingStar.id.includes(\"lowest\") ? \"lowestRating\" : \"highestRating\";\r\n    let hoverRating = force ? force : ratingStars[ratingState];\r\n\r\n    if (sendingStar.id.includes(\"lowest\")) {\r\n        ratingStars[\"lowestStars\"].forEach((star, currentStarIndex) => {\r\n            if (currentStarIndex + 1 <= hoverRating) { \r\n                if (star.getAttribute('src') === \"assets/svg/star.svg\") {\r\n                    star.src = \"assets/svg/star-filled.svg\";\r\n                } else {\r\n                    if (currentStarIndex + 1 === Number(sendingStar.id[sendingStar.id.length - 1])) {\r\n                        star.src = \"assets/svg/star-filled.svg\";\r\n                    }\r\n                }\r\n            } else {\r\n                if (star.getAttribute('src') === \"assets/svg/star-filled.svg\") {\r\n                    star.src = \"assets/svg/star.svg\";\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        ratingStars[\"highestStars\"].forEach((star, currentStarIndex) => {\r\n            if (currentStarIndex > hoverRating - 1) {\r\n                star.src = \"assets/svg/star.svg\";\r\n            } else {\r\n                star.src = \"assets/svg/star-filled.svg\";\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction toggleTagFilter(tag) {\r\n    const index = activeTags.indexOf(tag);\r\n    if (index === -1) {\r\n        activeTags.push(tag); \r\n        }\r\n    else {\r\n        activeTags.splice(index, 1);\r\n    }\r\n\r\n    updateTagButtons(tag);\r\n    executeSearch(searchField ? searchField.value : \"\");\r\n}\r\n\r\n// Update the dynamic tags based on tags present in the filteredResults\r\nfunction updateDynamicTags(filteredResults) {\r\n    const dynamicDivTagContainer = document.querySelector(\".filter__box__centerDiv__dynamicDivMain__dynamicDivTagContainer\");\r\n    dynamicDivTagContainer.textContent = \"\";\r\n    const tags = getUniqueTags(filteredResults);\r\n    dynamicTagButtons = [];\r\n\r\n    tags.forEach(tag => {\r\n        const capFirstLetterTag = tag.charAt(0).toUpperCase() + tag.slice(1).toLowerCase();\r\n        const tagButton = document.createElement(\"button\");\r\n        tagButton.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicTag\");\r\n        tagButton.textContent = capFirstLetterTag;\r\n        tagButton.addEventListener(\"click\", () => toggleTagFilter(tag));\r\n\r\n        if (activeTags.includes(tag)) {\r\n            tagButton.classList.add(\"active-tag\");\r\n        }\r\n\r\n        dynamicDivTagContainer.appendChild(tagButton);\r\n        dynamicTagButtons.push(tagButton);\r\n        \r\n    });\r\n}\r\n\r\n// Get unique tags from filteredResults\r\nfunction getUniqueTags(filteredResults) {\r\n    const tagSet = new Set();\r\n    filteredResults.forEach(challenge => {\r\n        challenge.labels.forEach(label => {\r\n            tagSet.add(label);\r\n        });\r\n    });\r\n\r\n    return Array.from(tagSet).sort((a, b) => a.localeCompare(b));\r\n}\r\n\r\n// Delayed search from input event\r\nfunction debounceSearch(event) {\r\n    clearTimeout(searchDebounceTimer);\r\n    searchDebounceTimer = setTimeout(() => \r\n        executeSearch(event.target.value), searchDebounceDelay);\r\n\r\n}\r\n\r\n//Perform search on challenges array from case-insensitive userinput \r\nfunction executeSearch(query) {\r\n    const challengesArray = getChallengesArray();\r\n    console.log(\"All challenges:\", challengesArray); \r\n    const onlineChecked = document.getElementById(\"DOM__checkBox1\").checked;\r\n    const onsiteChecked = document.getElementById(\"DOM__checkBox2\").checked;\r\n    const filteredResults = challengesArray.filter(challenge => {\r\n        const matchesRating = challenge.rating >= ratingStars[\"lowestRating\"] && challenge.rating <= ratingStars[\"highestRating\"];\r\n        \r\n        const matchesQuery =\r\n            challenge.title.toLowerCase().includes(query.toLowerCase()) || \r\n            challenge.description.toLowerCase().includes(query.toLowerCase()) ||\r\n            challenge.labels.some(label =>\r\n                label.toLowerCase().includes(query.toLowerCase()));\r\n\r\n        const matchesType = \r\n            (onlineChecked && challenge.type.toLowerCase() === \"online\") ||\r\n            (onsiteChecked && challenge.type.toLowerCase() === \"onsite\");\r\n        const matchesTag =  \r\n            activeTags.every(tag => challenge.labels.some(label => label.toLowerCase() === tag.toLowerCase()));\r\n                return matchesQuery && matchesType && matchesTag && matchesRating;\r\n\r\n            });\r\n\r\n            // updateDynamicTags(filteredResults);\r\n\r\n            displaySearchResults(filteredResults);\r\n\r\n}\r\n \r\n// Prints filteredResults in DOM-element\r\nfunction displaySearchResults(filteredResults) {\r\n    const challengesListElement = document.querySelector (\".challenges__list\");\r\n   \r\n    // Clear list\r\n    challengesListElement.textContent = \"\"; \r\n\r\n    // Errorhandling\r\n    if (filteredResults.length === 0) {\r\n        challengesListElement.textContent = \"No matching challenges\";\r\n        return;\r\n    }\r\n\r\n    // Loop challenges and present in cards\r\n    renderChallenges(filteredResults, challengesListElement);\r\n\r\n}\r\n\r\nfunction closeFilterModal() {\r\n    filterBtn.classList.remove(\"filter__hidden\");\r\n    destroyFilterBox();\r\n    \r\n    // Reset filtering to show all challenges when filterbox is closed \r\n    const challengesArray = getChallengesArray();\r\n    displaySearchResults(challengesArray);\r\n\r\n}\r\n\r\nfunction destroyFilterBox() {\r\n    const filterBox = document.querySelector(\".filter__box\");\r\n    filterBox.remove();\r\n\r\n}\r\n\r\n// Filter by type, render in DOM\r\nfunction filterChallengesByType(type) {\r\n    const challengesArray = getChallengesArray();\r\n    const filteredChallenges = challengesArray.filter(challenge => \r\n      challenge.type.toLowerCase() === type.toLowerCase()\r\n    );\r\n    \r\n    const challengesListElement = document.querySelector(\".challenges__list\");\r\n    renderChallenges(filteredChallenges, challengesListElement);\r\n\r\n}"],"names":["challengesList","challengesArray","displayAllChallenges","success","challenges","error","fetchAllChallenges","renderChallenges","getChallengesArray","filterBtn","openFilterModal","searchDebounceTimer","searchDebounceDelay","activeTags","dynamicTagButtons","ratingStars","filterSection","filterBox","topDiv","title","closeFilterButton","closeFilterModal","centerDiv","checkDiv","checkBoxTitle","checkDivTop","checkDivBottom","checkBox1","executeSearch","searchField","checkBoxLabel1","checkBox2","checkBoxLabel2","createStarRating","dynamicDivMain","dynamicDivTitle","dynamicDivTagContainer","dynamicTagTitle","updateDynamicTags","searchDivMain","searchFieldTitle","debounceSearch","challengeType","filterChallengesByType","updateTagButtons","tag","button","isActive","ratingDiv","ratingTitle","starDiv","index","star","starEvents","textBetween","state","notValid","refreshStars","sendingStar","force","ratingState","hoverRating","currentStarIndex","toggleTagFilter","filteredResults","tags","getUniqueTags","capFirstLetterTag","tagButton","tagSet","challenge","label","a","b","event","query","onlineChecked","onsiteChecked","matchesRating","matchesQuery","matchesType","matchesTag","displaySearchResults","challengesListElement","destroyFilterBox","type","filteredChallenges"],"mappings":"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"}