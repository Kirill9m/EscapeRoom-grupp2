{"version":3,"file":"challenges-BbVx7Rm5.js","sources":["../../src/js/displayAllChallenges.js","../../src/js/filteringBox.js"],"sourcesContent":["import { fetchAllChallenges } from './apiService.js';\nimport { renderChallenges } from './utilities/renderChallenges.js';\n\nconst challengesList = document.querySelector('.challenges__list');\n\n// Shared array to store challenges\nlet challengesArray = [];\n\nexport const displayAllChallenges = async () => {\n  // Fetch challenges from the API\n  const { success, data: challenges, error } = await fetchAllChallenges();\n\n  if (!success) {\n    console.error('Failed to fetch challenges:', error);\n    challengesList.innerHTML = `<li>Error loading challenges. Please try again later.</li>`;\n    return;\n  }\n  challengesArray = challenges;\n\n  // Clear existing content\n  challengesList.innerHTML = '';\n  renderChallenges(challenges, challengesList);\n};\n\n// const handleBookButtonClick = (challengeId) => {\n//     console.log(`display challenge ID: ${challengeId}`);\n// };\nexport const getChallengesArray = () => challengesArray;\n\ndisplayAllChallenges();\n","import { getChallengesArray } from \"./displayAllChallenges.js\";\nimport { renderChallenges } from './utilities/renderChallenges';\nimport '../styles/layouts/filter.scss';\n\nconst filterBtn = document.querySelector(\".filter__button\");\nfilterBtn.addEventListener(\"click\", openFilterModal);\n\n// Debounce delay for smoother operation\nlet searchDebounceTimer;\nconst searchDebounceDelay = 400;\nlet searchField;\n\n// Variable for toggletracing\nlet activeTags = [];\n// Array for the dynamic tags\nlet dynamicTagButtons = [];\nlet activeButtons = [];\n\n// Array for rating stars\nlet ratingStars = {\n    lowestStars: [],\n    lowestRating: 0,\n\n    highestStars: [],\n    highestRating: 5,\n}\n\nfunction openFilterModal() {\n    const filterSection = document.querySelector(\".filter\");\n    filterBtn.classList.add(\"filter__hidden\");\n\n    // filterBox\n    const filterBox = document.createElement(\"box\");\n    filterSection.appendChild(filterBox);\n    filterBox.classList.add(\"filter__box\");\n\n    // topDiv\n    const topDiv = document.createElement(\"div\");\n    filterBox.appendChild(topDiv);\n    topDiv.classList.add(\"filter__box__topDiv\");\n    \n    // topDiv title\n    const title = document.createElement(\"h2\");\n    title.innerHTML = \"Filter challenges\";\n    topDiv.appendChild(title);\n    title.classList.add(\"filter__box__topDiv__title\");\n\n    // Close button\n    const closeFilterButton = document.createElement(\"button\");\n    topDiv.appendChild(closeFilterButton);\n    closeFilterButton.classList.add(\"filter__box__topDiv__closeFilterBtn\");\n    closeFilterButton.innerHTML = \"X\";\n    closeFilterButton.addEventListener(\"click\", closeFilterModal);\n\n    // Center div\n    const centerDiv = document.createElement(\"div\");\n    filterBox.appendChild(centerDiv);\n    centerDiv.classList.add(\"filter__box__centerDiv\");\n\n    // Checkbox main div\n    const checkDiv = document.createElement(\"div\");\n    centerDiv.appendChild(checkDiv);\n    checkDiv.classList.add(\"filter__box__centerDiv__checkDiv\");\n\n    // Title checkboxes\n    const checkBoxTitle = document.createElement(\"h4\");\n    checkBoxTitle.textContent = \"By type\";\n    checkDiv.appendChild(checkBoxTitle);\n    checkBoxTitle.classList.add(\"filter__box__centerDiv__checkDiv__title\");\n\n    // Checkboxes side divs\n    const checkDivTop = document.createElement(\"div\");\n    checkDiv.appendChild(checkDivTop);\n    checkDivTop.classList.add(\"filter__box__centerDiv__checkDiv__divTop\");\n\n    const checkDivBottom = document.createElement(\"div\");\n    checkDiv.appendChild(checkDivBottom);\n    checkDivBottom.classList.add(\"filter__box__centerDiv__checkDiv__divBottom\");\n\n    // Checkboxes\n    const checkBox1 = document.createElement(\"input\");\n    checkBox1.type = (\"checkbox\");\n    checkBox1.id = \"DOM__checkBox1\";\n    checkBox1.checked = true;\n    checkDivTop.appendChild(checkBox1);\n    checkBox1.classList.add(\"filter__box__centerDiv__checkDiv__checkBox\");\n    checkBox1.addEventListener(\"change\", () => executeSearch(searchField.value));\n\n    const checkBoxLabel1 = document.createElement(\"label\");\n    checkBoxLabel1.htmlFor = \"DOM__checkBox1\";\n    checkBoxLabel1.appendChild(document.createTextNode(\"Include online challenges\"));\n    checkDivTop.appendChild(checkBoxLabel1);\n     \n    const checkBox2 = document.createElement(\"input\");\n    checkBox2.type = (\"checkbox\");\n    checkBox2.id = (\"DOM__checkBox2\")\n    checkBox2.checked = true;\n    checkDivBottom.appendChild(checkBox2);\n    checkBox2.classList.add(\"filter__box__centerDiv__checkDiv__checkBox\");\n    checkBox2.addEventListener(\"change\", () => executeSearch(searchField.value));\n\n    const checkBoxLabel2 = document.createElement(\"label\");\n    checkBoxLabel2.htmlFor = \"DOM__checkBox2\";\n    checkBoxLabel2.appendChild(document.createTextNode(\"Include on-site challenges\"));\n    checkDivBottom.appendChild(checkBoxLabel2);\n\n    // Star rating\n    createStarRating();\n\n    // Div-structure for dynamic tags\n    const dynamicDivMain = document.createElement(\"div\");\n    centerDiv.appendChild(dynamicDivMain);\n    dynamicDivMain.classList.add(\"filter__box__centerDiv__dynamicDivMain\")\n\n    const dynamicDivTitle = document.createElement(\"div\");\n    dynamicDivMain.appendChild(dynamicDivTitle);\n    dynamicDivTitle.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicDivTitle\")\n\n    const dynamicDivTagContainer = document.createElement(\"div\");\n    dynamicDivMain.appendChild(dynamicDivTagContainer);\n    dynamicDivTagContainer.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicDivTagContainer\");\n\n    // Dynamic tags title\n    const dynamicTagTitle = document.createElement(\"h4\");\n    dynamicTagTitle.textContent = \"By tags\";\n    dynamicDivTitle.appendChild(dynamicTagTitle);\n    dynamicTagTitle.classList.add(\"filter__box__centerDiv__dynamicDivMain__title\");\n\n    // Populate dynamic tags\n    const challengesArray = getChallengesArray();\n    updateDynamicTags(challengesArray);\n\n    // Search field divs\n    const searchDivMain = document.createElement(\"div\");\n    filterBox.appendChild(searchDivMain);\n    searchDivMain.classList.add(\"filter__box__searchDivMain\");\n\n    // Search field\n    const searchFieldTitle = document.createElement(\"h4\");\n    searchFieldTitle.textContent = \"Or type to search for keywords\";\n    searchDivMain.appendChild(searchFieldTitle);\n    searchFieldTitle.classList.add(\"filter__box__searchDivMain__title\");\n\n    const searchField = document.createElement(\"input\");\n    searchField.type = \"search\";\n    searchField.id = \"searchField-input\";\n    searchField.placeholder = \"Start typing to filter\";\n    searchDivMain.appendChild(searchField);\n    searchField.classList.add(\"filter__box__searchDivMain__searchfield\");\n    searchField.addEventListener(\"input\", debounceSearch);\n\n}\n\n// Display challenges by type online/onsite present in URL from redirection\ndocument.addEventListener('DOMContentLoaded', () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const challengeType = urlParams.get('type');\n    \n    setTimeout(() => {\n        if (challengeType) {\n        filterChallengesByType(challengeType);\n        }\n    }, 400);\n});\n\nfunction filterByTag(tag) {\n    const challengesArray = getChallengesArray();\n    const filteredResults = challengesArray.filter( challenge =>\n        challenge.labels.some(label =>\n            label.toLowerCase() === tag.toLowerCase())\n        );   \n    displaySearchResults(filteredResults);\n}\n\nfunction updateTagButtons(tag) {\n    dynamicTagButtons.forEach(button => {\n        const isActive = activeTags.includes(button.textContent.toLowerCase());\n        button.classList.toggle('active-tag', isActive);\n    });\n}\n\nfunction handleActiveButton(button, state) {\n    let foundTag = false;\n\n    activeButtons.forEach(btnName => {\n        if (btnName.toLowerCase() == button.textContent.toLowerCase()) {\n            foundTag = true;\n        }\n    })\n\n    if (foundTag && state) {\n        if (activeButtons.includes(button.textContent)) {\n            activeButtons = activeButtons.filter(val => val !== button.textContent)\n        }\n    } else {\n        if (!foundTag) {\n            activeButtons.push(button.textContent);\n        }\n    }\n}\n\nfunction createStarRating() {\n    const filterBox = document.querySelector(\".filter__box__centerDiv\");\n\n    // Rating div\n    const ratingDiv = document.createElement(\"div\");\n    ratingDiv.classList.add(\"filter__box__centerDiv__ratingDiv\");\n    filterBox.appendChild(ratingDiv);\n\n    // Rating title\n    const ratingTitle = document.createElement(\"h4\");\n    ratingTitle.textContent = \"By rating\";\n    ratingDiv.appendChild(ratingTitle);\n    ratingTitle.classList.add(\"filter__box__centerDiv__ratingDiv__title\");\n   \n    // Star div\n    const starDiv = document.createElement(\"div\");\n    starDiv.classList.add(\"filter__box__centerDiv__ratingDiv__starDiv\");\n    ratingDiv.appendChild(starDiv);\n\n    // Lowest rating stars\n    for (let index = 1; index <= 5; index++) {\n        const star = new Image()\n        star.src = \"assets/svg/star.svg\";\n        star.className = \"filter__box__centerDiv__ratingDiv__star\";\n        starDiv.appendChild(star)\n        ratingStars[\"lowestStars\"].push(star);\n        star.id = \"lowest_\" + index\n\n        starEvents(star, \"lowestRating\", index);\n    }\n\n    // Text between stars\n    const textBetween = document.createElement(\"p\");\n    textBetween.textContent = \"to\";\n    textBetween.classList.add(\"filter__box__centerDiv__ratingDiv__starDiv__text\");\n    starDiv.appendChild(textBetween);\n\n    // Highest rating stars\n    for (let index = 1; index <= 5; index++) {\n        const star = new Image()\n        star.src = \"assets/svg/star-filled.svg\";\n        star.className = \"filter__box__centerDiv__ratingDiv__star\"\n        starDiv.appendChild(star)\n        ratingStars[\"highestStars\"].push(star);\n        star.id = \"highest_\" + index\n\n        starEvents(star, \"highestRating\", index);\n    }\n}\n\nfunction starEvents(star, state, index) {\n    star.addEventListener(\"click\", () => {\n        let notValid = false; \n        let currentCorrectStateName = state.includes(\"lowest\") ? \"lowestRating\" : \"highestRating\";\n        \n        if (currentCorrectStateName === \"lowestRating\") {\n            if (index > ratingStars[\"highestRating\"]) {\n                notValid = true\n            }\n        } else {\n            if (index < ratingStars[\"lowestRating\"]) {\n                notValid = true\n            }\n        }\n\n        if (!notValid) {\n            ratingStars[state] = index;\n            refreshStars(star);\n            executeSearch(searchField ? searchField.value : \"\");\n        }\n    })\n\n    star.addEventListener(\"mouseover\", () => {\n        refreshStars(star, index)\n    })\n\n    star.addEventListener(\"mouseout\", () => {\n        refreshStars(star)\n    })\n}\n\nfunction refreshStars(sendingStar, force) {\n    let ratingState = sendingStar.id.includes(\"lowest\") ? \"lowestRating\" : \"highestRating\";\n    let hoverRating = force ? force : ratingStars[ratingState];\n\n    if (sendingStar.id.includes(\"lowest\")) {\n        ratingStars[\"lowestStars\"].forEach((star, currentStarIndex) => {\n            if (currentStarIndex + 1 <= hoverRating) { \n                if (star.getAttribute('src') === \"assets/svg/star.svg\") {\n                    star.src = \"assets/svg/star-filled.svg\";\n                } else {\n                    if (currentStarIndex + 1 === Number(sendingStar.id[sendingStar.id.length - 1])) {\n                        star.src = \"assets/svg/star-filled.svg\";\n                    }\n                }\n            } else {\n                if (star.getAttribute('src') === \"assets/svg/star-filled.svg\") {\n                    star.src = \"assets/svg/star.svg\";\n                }\n            }\n        });\n    } else {\n        ratingStars[\"highestStars\"].forEach((star, currentStarIndex) => {\n            if (currentStarIndex > hoverRating - 1) {\n                star.src = \"assets/svg/star.svg\";\n            } else {\n                star.src = \"assets/svg/star-filled.svg\";\n            }\n        })\n    }\n}\n\nfunction toggleTagFilter(tag) {\n    const index = activeTags.indexOf(tag);\n    if (index === -1) {\n        activeTags.push(tag); \n        }\n    else {\n        activeTags.splice(index, 1);\n    }\n\n    updateTagButtons(tag);\n    executeSearch(searchField ? searchField.value : \"\");\n}\n\n// Update the dynamic tags based on tags present in the filteredResults\nfunction updateDynamicTags(filteredResults) {\n    const dynamicDivTagContainer = document.querySelector(\".filter__box__centerDiv__dynamicDivMain__dynamicDivTagContainer\");\n    dynamicDivTagContainer.textContent = \"\";\n    const tags = getUniqueTags(filteredResults);\n    dynamicTagButtons = [];\n\n    tags.forEach(tag => {\n        const capFirstLetterTag = tag.charAt(0).toUpperCase() + tag.slice(1).toLowerCase();\n        const tagButton = document.createElement(\"button\");\n        tagButton.classList.add(\"filter__box__centerDiv__dynamicDivMain__dynamicTag\");\n        tagButton.textContent = capFirstLetterTag;\n        tagButton.addEventListener(\"click\", () => toggleTagFilter(tag));\n\n        if (activeTags.includes(tag)) {\n            tagButton.classList.add(\"active-tag\");\n        }\n\n        dynamicDivTagContainer.appendChild(tagButton);\n        dynamicTagButtons.push(tagButton);\n        \n    });\n}\n\n// Get unique tags from filteredResults\nfunction getUniqueTags(filteredResults) {\n    const tagSet = new Set();\n    filteredResults.forEach(challenge => {\n        challenge.labels.forEach(label => {\n            tagSet.add(label);\n        });\n    });\n\n    return Array.from(tagSet).sort((a, b) => a.localeCompare(b));\n}\n\n// Delayed search from input event\nfunction debounceSearch(event) {\n    clearTimeout(searchDebounceTimer);\n    searchDebounceTimer = setTimeout(() => \n        executeSearch(event.target.value), searchDebounceDelay);\n\n}\n\n//Perform search on challenges array from case-insensitive userinput \nfunction executeSearch(query) {\n    const challengesArray = getChallengesArray();\n    console.log(\"All challenges:\", challengesArray); \n    const onlineChecked = document.getElementById(\"DOM__checkBox1\").checked;\n    const onsiteChecked = document.getElementById(\"DOM__checkBox2\").checked;\n    const filteredResults = challengesArray.filter(challenge => {\n        const matchesRating = challenge.rating >= ratingStars[\"lowestRating\"] && challenge.rating <= ratingStars[\"highestRating\"];\n        \n        const matchesQuery =\n            challenge.title.toLowerCase().includes(query.toLowerCase()) || \n            challenge.description.toLowerCase().includes(query.toLowerCase()) ||\n            challenge.labels.some(label =>\n                label.toLowerCase().includes(query.toLowerCase()));\n\n        const matchesType = \n            (onlineChecked && challenge.type.toLowerCase() === \"online\") ||\n            (onsiteChecked && challenge.type.toLowerCase() === \"onsite\");\n        const matchesTag =  \n            activeTags.every(tag => challenge.labels.some(label => label.toLowerCase() === tag.toLowerCase()));\n                return matchesQuery && matchesType && matchesTag && matchesRating;\n\n            });\n\n            // updateDynamicTags(filteredResults);\n\n            displaySearchResults(filteredResults);\n\n}\n \n// Prints filteredResults in DOM-element\nfunction displaySearchResults(filteredResults) {\n    const challengesListElement = document.querySelector (\".challenges__list\");\n   \n    // Clear list\n    challengesListElement.textContent = \"\"; \n\n    // Errorhandling\n    if (filteredResults.length === 0) {\n        challengesListElement.textContent = \"No matching challenges\";\n        return;\n    }\n\n    // Loop challenges and present in cards\n    renderChallenges(filteredResults, challengesListElement);\n\n}\n\nfunction closeFilterModal() {\n    filterBtn.classList.remove(\"filter__hidden\");\n    destroyFilterBox();\n    \n    // Reset filtering to show all challenges when filterbox is closed \n    const challengesArray = getChallengesArray();\n    displaySearchResults(challengesArray);\n\n}\n\nfunction destroyFilterBox() {\n    const filterBox = document.querySelector(\".filter__box\");\n    filterBox.remove();\n\n}\n\n// Filter by type, render in DOM\nfunction filterChallengesByType(type) {\n    const challengesArray = getChallengesArray();\n    const filteredChallenges = challengesArray.filter(challenge => \n      challenge.type.toLowerCase() === type.toLowerCase()\n    );\n    \n    const challengesListElement = document.querySelector(\".challenges__list\");\n    renderChallenges(filteredChallenges, challengesListElement);\n\n}"],"names":["challengesList","challengesArray","displayAllChallenges","success","challenges","error","fetchAllChallenges","renderChallenges","getChallengesArray","filterBtn","openFilterModal","searchDebounceTimer","searchDebounceDelay","activeTags","dynamicTagButtons","ratingStars","filterSection","filterBox","topDiv","title","closeFilterButton","closeFilterModal","centerDiv","checkDiv","checkBoxTitle","checkDivTop","checkDivBottom","checkBox1","executeSearch","searchField","checkBoxLabel1","checkBox2","checkBoxLabel2","createStarRating","dynamicDivMain","dynamicDivTitle","dynamicDivTagContainer","dynamicTagTitle","updateDynamicTags","searchDivMain","searchFieldTitle","debounceSearch","challengeType","filterChallengesByType","updateTagButtons","tag","button","isActive","ratingDiv","ratingTitle","starDiv","index","star","starEvents","textBetween","state","notValid","refreshStars","sendingStar","force","ratingState","hoverRating","currentStarIndex","toggleTagFilter","filteredResults","tags","getUniqueTags","capFirstLetterTag","tagButton","tagSet","challenge","label","a","b","event","query","onlineChecked","onsiteChecked","matchesRating","matchesQuery","matchesType","matchesTag","displaySearchResults","challengesListElement","destroyFilterBox","type","filteredChallenges"],"mappings":"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"}