{"version":3,"file":"renderChallenges-D-7Xdrk8.js","sources":["../../src/js/menu.js","../../src/js/apiService.js","../../src/js/apiTest.js","../../src/js/modal-step-2.js","../../src/js/modal1.js","../../assets/svg/star-filled.svg","../../assets/svg/star-half.svg","../../assets/svg/star.svg","../../src/js/challengeClass.js","../../src/js/utilities/renderChallenges.js"],"sourcesContent":["import '../styles/layouts/header.scss';\n\nconst menuItems = [\n  { name: 'Play online', href: '#onLine' },\n  { name: 'Play on-site', href: '#onSite' },\n  { name: 'The story', href: '#story' },\n  { name: 'Contact us', href: '#contact' },\n];\n\n//referenses\nconst hamburger = document.querySelector('.nav__hamburger');\nconst menu = document.querySelector('.nav__menu');\nconst backgroundOverlay = document.querySelector('.nav__background');\n\n//creation of components\nconst createNavMenuItem = () => {\n  menuItems.forEach((item) => {\n    const menuList = document.createElement('li');\n    menuList.classList.add('nav__menuItem');\n\n    const link = document.createElement('a');\n    link.href = item.href;\n    link.textContent = item.name;\n    link.classList.add('nav__menuLink');\n\n    menuList.appendChild(link);\n    menu.appendChild(menuList);\n  });\n};\n\nconst createCloseBtn = () => {\n  const closeBtn = document.createElement('button');\n  closeBtn.classList.add('nav__menu__closeBtn');\n\n  const span1 = document.createElement('span');\n  span1.classList.add('closeSpan1');\n\n  const span2 = document.createElement('span');\n  span2.classList.add('closeSpan2');\n\n  closeBtn.appendChild(span1);\n  closeBtn.appendChild(span2);\n  menu.appendChild(closeBtn);\n  return closeBtn;\n};\n\nconst closeBtn = createCloseBtn();\ncreateNavMenuItem();\n\n// handels management\n\nconst handleToggleMenu = () => {\n  setTimeout(() => {\n    menu.classList.toggle('nav__menu--active');\n  }, 200);\n  backgroundOverlay.classList.toggle('nav__background--active');\n};\n\nconst handleCloseMenu = () => {\n  menu.classList.remove('nav__menu--active');\n  backgroundOverlay.classList.remove('nav__background--active');\n};\n\n// eventListener\nhamburger.addEventListener('click', handleToggleMenu);\nmenu.addEventListener('click', (e) => {\n  if (e.target.classList.contains('nav__menuLink')) {\n    handleCloseMenu();\n  }\n});\ncloseBtn.addEventListener('click', handleCloseMenu);\nwindow.addEventListener('scroll', handleCloseMenu);\n\n// Redirection from index.html to challenges.html with prefiltered results for online/onsite challenges\ndocument.addEventListener('DOMContentLoaded', () => {\n  const onlineButton = document.querySelector('.main__btn.online');\n  const onsiteButton = document.querySelector('.main__btn.onsite');\n\n  onlineButton.addEventListener('click', () => {\n    window.location.href = 'challenges.html?type=online';\n  });\n\n  onsiteButton.addEventListener('click', () => {\n    window.location.href = 'challenges.html?type=onsite';\n  });\n  \n});\n","const BASE_URL = 'https://lernia-sjj-assignments.vercel.app/api';\n\n// Helper function to validate date format (YYYY-MM-DD)\nexport const isValidDate= (dateString) => {\n  const regex = /^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;\n  if (!regex.test(dateString)) return false;\n\n  // Further validate logical date correctness\n  const date = new Date(dateString);\n  return date instanceof Date && !isNaN(date);\n}\n\n\n// Helper function to validate time format (HH:mm)\nexport const isValidTime = (timeString) => {\n  // Regular expression to strictly match valid time formats\n  const regex = /^(?:[01]\\d|2[0-3]):[0-5]\\d$/;\n  return regex.test(timeString);\n}\n\nexport const isDateAtLeastTomorrow = (dateString) => {\n  const today = new Date();\n  today.setUTCHours(0, 0, 0, 0); \n  const tomorrow = new Date(today);\n  tomorrow.setUTCDate(today.getUTCDate() + 1); \n  const inputDate = new Date(dateString);\n\n  return inputDate >= tomorrow; \n};\n\n\n// Helper function for a simple input validation\nexport const validateReservationInput = ({\n  challengeId,\n  name,\n  email,\n  date,\n  time,\n  participants,\n}) => {\n  if (\n    typeof challengeId !== 'number' ||\n    typeof name !== 'string' ||\n    typeof email !== 'string' ||\n    typeof date !== 'string' ||\n    typeof time !== 'string' ||\n    typeof participants !== 'number'\n  ) {\n    console.log('Invalid parameter/s: ', {\n      challengeId,\n      name,\n      email,\n      date,\n      time,\n      participants,\n    });\n    return false;\n  }\n  if (!isValidDate(date)) {\n    console.log(\"Invalid 'date': Must be in YYYY-MM-DD format.\");\n    return false;\n  }\n  if (!isDateAtLeastTomorrow(date)) {\n    console.log(\"Invalid 'date': Booking must be at least tomorrow or later.\");\n    return false;\n  }\n  if (!isValidTime(time)) {\n    console.log(\"Invalid 'time': Must be in HH:mm format.\");\n    return false;\n  }\n  return true;\n};\n\n//API Services:\n\n// Generalized fetch function that accepts options and throws errors for critical issues\nconst fetchApi = async (url, requestOptions = {}) => {\n  try {\n    const res = await fetch(url, requestOptions);\n    if (!res.ok) {\n      const errorText = await res.text();\n      console.log(`Error response from ${url}:`, errorText);\n      throw new Error(\n        `HTTP error! status: ${res.status}, message: ${errorText}`,\n      );\n    }\n    return await res.json();\n  } catch (error) {\n    console.log(`Error fetching data from ${url}:`, error);\n    throw error;\n  }\n};\n\n// Fetch all challenges\nexport const fetchAllChallenges = async () => {\n  try {\n    const { challenges } = await fetchApi(`${BASE_URL}/challenges`);\n    console.log('Challenges:', challenges);\n    return { success: true, data: challenges ?? [] };\n  } catch (error) {\n    return { success: false, data: [], error: error.message };\n  }\n};\n\n// Fetch available times per a date\nexport const fetchAvailableTimes = async (challengeId, date) => {\n  if (typeof challengeId !== 'number' || typeof date !== 'string') {\n    console.log('Invalid parameters:', { challengeId, date });\n    return { success: false, data: [], error: 'Invalid parameters' };\n  }\n\n  try {\n    const { slots } = await fetchApi(\n      `${BASE_URL}/booking/available-times?date=${date}&challenge=${challengeId}`,\n    );\n    console.log('Available slots:', slots);\n    return { success: true, data: slots ?? [] };\n  } catch (error) {\n    return { success: false, data: [], error: error.message };\n  }\n};\n\nexport const fetchChallengeDetails = async (challengeId) => {\n  try {\n    // Fetch all challenges\n    const { success, data: challenges, error } = await fetchAllChallenges();\n    if (!success) {\n      console.error('Failed to fetch challenges:', error);\n      return { success: false, data: null, error };\n    }\n\n    // Find the challenge by ID\n    const challengeDetails = challenges.find(\n      (challenge) => challenge.id === challengeId,\n    );\n\n    if (!challengeDetails) {\n      console.error(`Challenge with ID ${challengeId} not found.`);\n      return { success: false, data: null, error: 'Challenge not found' };\n    }\n\n    console.log('Found challenge details:', challengeDetails);\n    return { success: true, data: challengeDetails };\n  } catch (err) {\n    console.error('Error finding challenge details:', err);\n    return { success: false, data: null, error: err.message };\n  }\n};\n\n// Create reservation with  simple input validation\nexport const createReservation = async (reservationData) => {\n  if (!validateReservationInput(reservationData)) {\n    return { success: false, error: 'Invalid input data' };\n  }\n\n  try {\n    const res = await fetchApi(`${BASE_URL}/booking/reservations`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        challenge: reservationData.challengeId,\n        name: reservationData.name,\n        email: reservationData.email,\n        date: reservationData.date,\n        time: reservationData.time,\n        participants: reservationData.participants,\n      }),\n    });\n\n    if (res?.status === 'ok') {\n      console.log('Booking successful:', res);\n      return { success: true, data: res.booking };\n    } else {\n      return { success: false, error: 'Reservation failed' };\n    }\n  } catch (error) {\n    console.log('Error in creating reservation:', error);\n    return { success: false, error: error.message };\n  }\n};\n","import {\n  fetchAllChallenges,\n  fetchAvailableTimes,\n  fetchChallengeDetails,\n  createReservation,\n} from './apiService.js';\nfetchAllChallenges();\nfetchAvailableTimes(3, '2024-12-12');\nfetchChallengeDetails(3);\nfetchChallengeDetails(3);\ncreateReservation({\n  challengeId: 3,\n  name: 'Elena',\n  email: 'elena@elena.com',\n  date: '2025-12-12',\n  time: '15:30',\n  participants: 2,\n});\n","import '../styles/layouts/modal.scss';\nimport {\n  fetchAvailableTimes,\n  fetchChallengeDetails,\n  createReservation,\n} from './apiService.js';\nimport { showSteps } from './modal1.js';\n\n// DOM Elements\nconst emailInput = document.querySelector('#booking-email');\nconst nameInput = document.querySelector('#booking-name');\nconst timeDropdown = document.querySelector('#booking-time');\nconst participantsDropdown = document.querySelector('#booking-participants');\nconst form = document.querySelector('#user-booking');\n\n// State variables\nlet challengeId;\nlet selectedDate;\n\n\n// Utility Functions\nconst showAlert = (message) => {\n  alert(message);\n};\n\nconst updateDropdown = (dropdown, options) => {\n  // Clear dropdown, keep only the placeholder\n  while (dropdown.options.length > 1) {\n    dropdown.remove(1);\n  }\n\n  // Populate dropdown with new options\n  options.forEach(({ value, label }) => {\n    const option = document.createElement('option');\n    option.value = value; // Use start time (HH:mm) as the value\n    option.textContent = label; // Use full range as the display text\n    dropdown.appendChild(option);\n  });\n};\n\n\n//------------------- Validator Functions----------------------------\n\n// // Helper function to check if an email is valid\nconst isValidEmail = (email) =>\n  /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(email);\n\n\n//------------------- Initialize step 2 Function----------------------------\nexport const initializeStep2 = async (id, date) => {\n  challengeId = id;\n  selectedDate = date;\n  console.log(\n    `Initializing Step 2 with challengeId: ${challengeId}, date: ${selectedDate}`,\n  );\n\n  if (!challengeId || !selectedDate) {\n    console.error(\n      'Missing challengeId or selectedDate in Step 2 initialization',\n    );\n    return;\n  }\n\n  try {\n    const step2RoomTitle = document.querySelector(\n      '#step2 .modal__content-loading',\n    );\n\n    // Fetch and load the room title\n    const { success, data } = await fetchChallengeDetails(challengeId);\n    if (success && data.title) {\n      step2RoomTitle.textContent = data.title;\n    } else {\n      step2RoomTitle.textContent = 'Room Title Not Found';\n    }\n    await loadParticipants(challengeId);\n    await loadAvailableTimes(challengeId, selectedDate);\n    showSteps(2); // Move to Step 2\n  } catch (err) {\n    console.error('Error initializing Step 2:', err);\n  }\n};\n\n//--------------------FETCH AND DISPLAY PARTICIPANTS NUMBER-----------------\n\n// Load participants dropdown based on challenge details\nconst loadParticipants = async (challengeId) => {\n  try {\n    const { success, data, error } = await fetchChallengeDetails(challengeId);\n    if (success) {\n      const { minParticipants, maxParticipants } = data;\n      console.log(\n        'minParticipants:',\n        minParticipants,\n        'maxParticipants:',\n        maxParticipants,\n      );\n      populateParticipantsDropdown(minParticipants, maxParticipants);\n    } else {\n      console.error('Failed to load participants:', error);\n    }\n  } catch (err) {\n    console.error('Error loading participants:', err);\n  }\n};\n\n// Populate participants dropdown\nconst populateParticipantsDropdown = (minParticipants, maxParticipants) => {\n  if (!minParticipants || !maxParticipants) {\n    console.error('Invalid participant range');\n    return;\n  }\n  for (let i = minParticipants; i <= maxParticipants; i++) {\n    const option = document.createElement('option');\n    option.value = i.toString();\n    option.textContent = `${i} participant${i > 1 ? 's' : ''}`;\n    participantsDropdown.appendChild(option);\n  }\n  console.log('type of participants:', typeof minParticipants);\n};\n\n//-----------------------FETCH AND DISPLAY AVAILABLE SLOTS----------------\n\nconst loadAvailableTimes = async (challengeId, selectedDate) => {\n  try {\n    const {\n      success,\n      data: slots,\n      error,\n    } = await fetchAvailableTimes(challengeId, selectedDate);\n    if (success) {\n      const timeRanges = slots.map((slot) => {\n        // Parse start time into hours and minutes\n        const [hours, minutes] = slot.split(':').map(Number);\n\n        // Calculate end time (90 minutes later)\n        const endTime = new Date();\n        endTime.setHours(hours);\n        endTime.setMinutes(minutes + 90);\n\n        // Format end time as HH:mm\n        const endHours = String(endTime.getHours()).padStart(2, '0');\n        const endMinutes = String(endTime.getMinutes()).padStart(2, '0');\n        const formattedEndTime = `${endHours}:${endMinutes}`;\n\n        // Return an object with start time and range\n        return {\n          value: slot, // Start time (HH:mm)\n          label: `${slot} - ${formattedEndTime}`, // Full time range\n        };\n      });\n\n      // Update dropdown with the new time ranges\n      updateDropdown(timeDropdown, timeRanges);\n    } else {\n      console.error('Failed to load available times:', error);\n    }\n  } catch (err) {\n    console.error('Error loading available times:', err);\n  }\n};\n\n//---------------------VALIDATE EMAIL AND NAME------------------\n\nconst validateEmail = (event) => {\n  const isValid = isValidEmail(event.target.value);\n  event.target.setCustomValidity(\n    isValid ? '' : 'Please enter a valid email address.',\n  );\n};\n\nconst validateName = (event) => {\n  const trimmedName = event.target.value.trim();\n  if (trimmedName.length === 0) {\n    event.target.setCustomValidity(\n      'Name should not be empty or contain only spaces.',\n    );\n  } else if (!/^[a-zA-Z\\s]{2,}$/.test(trimmedName)) {\n    event.target.setCustomValidity(\n      'Please enter a valid name (letters only, at least 2 characters).',\n    );\n  } else {\n    event.target.setCustomValidity('');\n  }\n};\n\n//--------------------- FORM SUBMITION-----------------------------\n\nconst handleFormSubmission = async (event) => {\n  event.preventDefault();\n  // Validate name before submission\n\n  console.log('Selected Date:', selectedDate);\n  console.log('Challenge ID:', challengeId);\n  const nameValue = nameInput.value.trim();\n  if (nameValue.length === 0) {\n    nameInput.setCustomValidity('Name should not be empty.');\n    nameInput.reportValidity();\n    return; // Stop submission\n  } else {\n    nameInput.setCustomValidity(''); // Clear validation message\n  }\n  // Validate email before submission\n  const emailValue = emailInput.value.trim();\n  if (!isValidEmail(emailValue)) {\n    emailInput.setCustomValidity('Please enter a valid email address.');\n    emailInput.reportValidity();\n    return; // Stop submission\n  } else {\n    emailInput.setCustomValidity(''); // Clear validation message\n  }\n\n  if (!selectedDate || !challengeId) {\n    showAlert('Missing challenge ID or selected date.');\n    return; // Stop submission\n  }\n\n  // Extract form data\n  const reservationData = {\n    challengeId,\n    name: nameValue,\n    email: emailValue,\n    date: selectedDate,\n    time: form['selected_time'].value,\n    participants: parseInt(form['selected_participants'].value, 10),\n  };\n\n  // console.log('Reservation Data:', reservationData);\n\n  try {\n    // Send reservation request\n    const { success, data, error } = await createReservation(reservationData);\n\n    if (success) {\n      console.log('Reservation created successfully:', data);\n      nameInput.value = '';\n      emailInput.value = '';\n      timeDropdown.selectedIndex = 0; // Reset to placeholder\n      participantsDropdown.selectedIndex = 0;\n\n      showSteps(3);\n      //------------------------------------------------------\n      // you need to put logic to go to the thank you part from Ronja\n      //-------------------------------------------------------\n    } else {\n      console.error('Failed to create reservation:', error);\n      showAlert('Failed to create reservation. Please try again.');\n    }\n  } catch (err) {\n    console.error('Error creating reservation:', err);\n    showAlert('An unexpected error occurred. Please try again.');\n  }\n};\n\n//------------------ADDEVENTLISTENERS--------------------\n\n// Load participants and available times on DOMContentLoaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  emailInput.addEventListener('input', validateEmail);\n  nameInput.addEventListener('input', validateName);\n});\n\nif (!form._hasSubmitListener) {\n  form.addEventListener('submit', handleFormSubmission);\n  form._hasSubmitListener = true;\n}\n","import { fetchAvailableTimes, fetchChallengeDetails } from \"./apiService.js\";\nimport \"../styles/layouts/modal.scss\";\nimport { initializeStep2 } from './modal-step-2.js';\n\n// DOM Selectors\nconst modal = document.querySelector(\".booking-modal\");\nconst steps = document.querySelectorAll(\".booking-modal__step\");\nconst dateInput = document.querySelector(\".custom__date\");\nconst roomTitle = document.querySelector(\".modal__content-loading\");\nconst searchAvailableTimesBTN = document.querySelector(\".booking__search-btn\");\nconst closeBTN = document.querySelectorAll('.close');\n\nlet challengeId; \n\n// to set the minimum selectable date to tomorrow\nconst setMinimumSelectableDate = () => {\n  const today = new Date();\n  today.setDate(today.getDate() + 1); // Tomorrow\n  const minDate = today.toISOString().split('T')[0]; // Format as YYYY-MM-DD\n  dateInput.setAttribute('min', minDate); // Set as the minimum date\n};\n\n\nexport const showSteps = (stepNumber) => {\n  const steps = document.querySelectorAll(\".booking-modal__step\");\n  steps.forEach((step, index) => {\n    if (index + 1 === stepNumber) {\n      step.style.display = \"block\"; // Show the active step\n      step.classList.add(\"booking-modal__step--active\");\n    } else {\n      step.style.display = \"none\"; \n      step.classList.remove(\"booking-modal__step--active\");\n    }\n  });\n};\n\n// Fetch and display the room title\nexport const loadRoomTitle = async (challengeId) => {\n  try {\n    const { success, data } = await fetchChallengeDetails(challengeId);\n    if (success && data.title) {\n      roomTitle.textContent = data.title;\n    } else {\n      roomTitle.textContent = \"Room Title Not Found\";\n    }\n  } catch (err) {\n    roomTitle.textContent = \"Error Loading Room Title\";\n    console.error(\"Error loading room title:\", err);\n  }\n};\n\n// Event listener for the \"Search Available Times\" button in Step 1\nsearchAvailableTimesBTN.addEventListener(\"click\", async (event) => {\n  event.preventDefault();\n\n  const selectedDate = dateInput.value; \n  if (!selectedDate) {\n    alert(\"Please select a valid date.\");\n    dateInput.focus();\n    return;\n  }\n\n  if (!challengeId) {\n    console.error(\"Error: challengeId is undefined.\");\n    return;\n  }\n\n  // Pass `challengeId and selectedDate directly to initialize Step 2\n  await initializeStep2(challengeId, selectedDate);\n});\n\n// Function to open the booking modal (Step 1 initialization)\nexport const openBookingModal = (id) => {\n  challengeId = id;\n  if (!challengeId) {\n    console.error(\"No challengeId provided to openBookingModal\");\n    return;\n  }\n\n  modal.style.display = \"block\";\n  console.log(`Modal is displayed for challengeId: ${challengeId}`);\n  loadRoomTitle(challengeId);\n  showSteps(1); \n};\n\n// Hide the modal on page load\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  modal.style.display = \"none\";\n  console.log(\"Modal is hidden when the page is loaded\");\n\n  setMinimumSelectableDate();\n});\n\ncloseBTN.forEach(button =>{\n    button.addEventListener('click', () => {\n        const modal = button.closest('.booking-modal');\n        modal.style.display = 'none';\n    });\n});","export default \"data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.40931%202.38128C6.02509%200.24596%209.05071%200.24596%209.66648%202.38128C9.93999%203.32972%2010.808%203.98278%2011.7951%203.98278H11.9036C14.1208%203.98278%2015.1139%206.76375%2013.3983%208.1682L12.9618%208.5255C12.214%209.13762%2011.9029%2010.1364%2012.1706%2011.0649L12.3847%2011.8073C12.9762%2013.8584%2010.5678%2015.4459%208.91606%2014.0937C8.11445%2013.4375%206.96134%2013.4375%206.15973%2014.0937C4.50795%2015.4459%202.09958%2013.8584%202.69106%2011.8074L2.90517%2011.0649C3.17293%2010.1364%202.86176%209.13762%202.114%208.5255L1.67753%208.1682C-0.0381234%206.76374%200.954986%203.98278%203.17219%203.98278H3.28072C4.2678%203.98278%205.13581%203.32972%205.40931%202.38128Z'%20fill='%23E3170A'/%3e%3cclipPath%20id='half-mask'%3e%3crect%20x='11.5'%20y='0'%20width='11.5'%20height='23'%20/%3e%3c/clipPath%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cclipPath%20id='half-mask'%3e%3crect%20x='8'%20y='0'%20width='11.5'%20height='23'%20/%3e%3c/clipPath%3e%3c/defs%3e%3cpath%20d='M%205.409%2012.994%20C%206.025%2015.13%209.051%2015.13%209.666%2012.994%20C%209.94%2012.046%2010.808%2011.393%2011.795%2011.393%20L%2011.904%2011.393%20C%2014.121%2011.393%2015.114%208.612%2013.398%207.207%20L%2012.962%206.85%20C%2012.214%206.238%2011.903%205.239%2012.171%204.311%20L%2012.385%203.568%20C%2012.976%201.517%2010.568%20-0.07%208.916%201.282%20C%208.114%201.938%206.961%201.938%206.16%201.282%20C%204.508%20-0.07%202.099%201.517%202.691%203.568%20L%202.905%204.311%20C%203.173%205.239%202.862%206.238%202.114%206.85%20L%201.677%207.207%20C%20-0.038%208.612%200.955%2011.393%203.172%2011.393%20L%203.281%2011.393%20C%204.268%2011.393%205.136%2012.046%205.409%2012.994%20Z'%20clip-path='url(%23half-mask)'%20style='fill:%20rgb(227,%2023,%2010);%20transform-origin:%2011.134px%207.68797px;'%20transform='matrix(-1,%200,%200,%20-1,%20-7.192186824964,%20-0.000001432395)'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.22343%202.65837C6.56124%201.48693%208.2211%201.48693%208.55891%202.65837C8.95588%204.03492%2010.2157%204.98278%2011.6483%204.98278H11.7569C13.0344%204.98278%2013.6066%206.58516%2012.6181%207.39441L12.1816%207.7517C11.1244%208.61714%2010.6845%2010.0292%2011.0631%2011.342L11.2772%2012.0844C11.5968%2013.1928%2010.2954%2014.0506%209.40277%2013.3199C8.23273%2012.3621%206.54961%2012.3621%205.37957%2013.3199C4.48698%2014.0506%203.18555%2013.1928%203.50518%2012.0844L3.71928%2011.342C4.09785%2010.0292%203.65791%208.61714%202.60071%207.7517L2.16424%207.3944C1.17569%206.58516%201.74791%204.98278%203.02546%204.98278H3.13399C4.56664%204.98278%205.82646%204.03492%206.22343%202.65837Z'%20stroke='%23E3170A'%20stroke-width='2'/%3e%3c/svg%3e\"","import'../styles/layouts/rooms.scss';\nimport {openBookingModal} from './modal1.js'\n\nimport starFilled from '../../assets/svg/star-filled.svg';\nimport starHalf from '../../assets/svg/star-half.svg';\nimport starEmpty from '../../assets/svg/star.svg';\n\nclass Challenge {\n  constructor(\n    id,\n    title,\n    description,\n    type,\n    minParticipants,\n    maxParticipants,\n    rating,\n    image,\n    labels,\n  ) {\n    this.id = id;\n    this.title = title;\n    this.description = description;\n    this.type = type;\n    this.minParticipants = minParticipants;\n    this.maxParticipants = maxParticipants;\n    this.rating = rating;\n    this.image = image;\n    this.labels = labels;\n  }\n\n  createChallengeStars() {\n    // Drawing a stars\n    const rate = this.rating;\n    const challengeRating = document.createElement(\"div\");\n    challengeRating.className = \"challenge__ratings\"\n\n    for (let i = 1; i <= 5; i++) {\n      const star = new Image();\n\n      if (i <= Math.floor(rate)) {\n        star.src = starFilled;\n        star.className = \"star filled\";\n      } else if (i === Math.ceil(rate) && rate % 1 !== 0) {\n        star.src = starHalf; \n        star.className = \"star half\";\n      } else {\n        star.src = starEmpty;\n        star.className = \"star unfilled\";\n      }\n\n      challengeRating.appendChild(star);\n    }\n    return challengeRating;\n  }\n\n  createBookChallengeBtn() {\n      const bookingBtn = document.createElement(\"button\");\n      bookingBtn.className = \"challenge__btn\";\n  \n      if (this.type === \"onsite\") {\n          bookingBtn.textContent = \"Book this room\";\n          bookingBtn.addEventListener('click', () => openBookingModal(this.id)); \n      } else if (this.type === \"online\") {\n          bookingBtn.textContent = \"Take challenge online\";\n          bookingBtn.addEventListener('click', () => openBookingModal(this.id)); \n      }\n      return bookingBtn;\n    }\n\n  createChallengeCard(btn) {\n    const liItem = document.createElement(\"li\");\n    liItem.id = \"challenges__carousel__slide\" + this.id;\n    liItem.setAttribute('tabindex', 0);\n    liItem.className = \"challenge__slide challengey challenges\";\n\n    const imageContainer = document.createElement(\"div\");\n    imageContainer.className = \"challenge__image-container\"\n\n    const img = document.createElement(\"img\");\n    img.className = \"challenge__img\";\n    img.src = this.image;\n    img.alt = this.description;\n    img.loading = \"lazy\";\n    imageContainer.appendChild(img);\n\n    const detailsContainer = document.createElement(\"div\");\n    detailsContainer.className = \"challenge__details\";\n\n\n    const title = document.createElement(\"h2\");\n    title.className = \"challenge__details__title_temporary\";\n    title.textContent = this.title + (this.type === \"onsite\" ? \" (onsite)\" : \"\");\n\n    const detailsInfo = document.createElement(\"div\");\n    detailsInfo.className = \"challenge__details-info\";\n\n    const rating = this.createChallengeStars();\n\n    const challengeParticipants = document.createElement(\"div\");\n    challengeParticipants.className = \"challenge__participants\";\n    challengeParticipants.textContent = `${this.minParticipants} - ${this.maxParticipants} participants`;\n    if (this.type === \"online\") {\n      challengeParticipants.textContent += \" (networked)\";\n    }\n    imageContainer.appendChild(rating);\n    detailsInfo.appendChild(challengeParticipants);\n    \n    \n    const challengeDescription = document.createElement(\"p\");\n    challengeDescription.className = \"challenge__description\"\n    challengeDescription.textContent = this.description;\n    \n    detailsContainer.appendChild(title);\n\n    if (this.labels && this.labels.length > 0) {\n      const labels = this.createLabels();\n      detailsContainer.appendChild(labels); \n    }\n    detailsContainer.appendChild(detailsInfo);\n    detailsContainer.appendChild(challengeDescription);\n    \n    if(btn){\n      detailsContainer.appendChild(this.createBookChallengeBtn());\n    }\n    \n    const typeIcon = document.createElement(\"span\");\n    typeIcon.className = \"challenge__type-icon\";\n    \n    if (this.type === \"online\") {\n      typeIcon.textContent = \"💻\"; \n    } else if (this.type === \"onsite\") {\n      typeIcon.textContent = \"🏠\"; \n    }\n    imageContainer.appendChild(typeIcon);\n    \n    \n    liItem.appendChild(imageContainer);\n    liItem.appendChild(detailsContainer);\n    \n    return liItem;\n  }\n  createLabels() {\n    const labelsContainer = document.createElement(\"div\");\n    labelsContainer.className = \"challenge__labels\";\n\n    this.labels.forEach(label => {\n      const labelItem = document.createElement(\"span\");\n      labelItem.className = \"challenge__label\";\n      labelItem.textContent = `*${label} `; \n      labelsContainer.appendChild(labelItem);\n    });\n\n    return labelsContainer;\n  }\n\n  \n}\n\nexport default Challenge;","import Challenge from '../challengeClass.js';\n\nexport const renderChallenges = (challenges, container, withButtons = true) => {\n   \n    container.innerHTML = '';\n  \n  \n    challenges.forEach((challengeData) => {\n      const challenge = new Challenge(\n        challengeData.id,\n        challengeData.title,\n        challengeData.description,\n        challengeData.type,\n        challengeData.minParticipants,\n        challengeData.maxParticipants,\n        challengeData.rating,\n        challengeData.image,\n        challengeData.labels\n      );\n  \n      // Create the card element\n      const challengeCard = challenge.createChallengeCard(withButtons);\n  \n      // Append the card to the container\n      container.appendChild(challengeCard);\n    });\n  };"],"names":["menuItems","hamburger","menu","backgroundOverlay","createNavMenuItem","item","menuList","link","createCloseBtn","closeBtn","span1","span2","handleToggleMenu","handleCloseMenu","e","onlineButton","onsiteButton","BASE_URL","isValidDate","dateString","date","isValidTime","timeString","isDateAtLeastTomorrow","today","tomorrow","validateReservationInput","challengeId","name","email","time","participants","fetchApi","url","requestOptions","res","errorText","error","fetchAllChallenges","challenges","fetchAvailableTimes","slots","fetchChallengeDetails","success","challengeDetails","challenge","err","createReservation","reservationData","emailInput","nameInput","timeDropdown","participantsDropdown","form","selectedDate","showAlert","message","updateDropdown","dropdown","options","value","label","option","isValidEmail","initializeStep2","id","step2RoomTitle","data","loadParticipants","loadAvailableTimes","showSteps","minParticipants","maxParticipants","populateParticipantsDropdown","i","timeRanges","slot","hours","minutes","endTime","endHours","endMinutes","formattedEndTime","validateEmail","event","isValid","validateName","trimmedName","handleFormSubmission","nameValue","emailValue","modal","dateInput","roomTitle","searchAvailableTimesBTN","closeBTN","setMinimumSelectableDate","minDate","stepNumber","step","index","loadRoomTitle","openBookingModal","button","starFilled","starHalf","starEmpty","Challenge","title","description","type","rating","image","labels","rate","challengeRating","star","bookingBtn","btn","liItem","imageContainer","img","detailsContainer","detailsInfo","challengeParticipants","challengeDescription","typeIcon","labelsContainer","labelItem","renderChallenges","container","withButtons","challengeData","challengeCard"],"mappings":"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"}